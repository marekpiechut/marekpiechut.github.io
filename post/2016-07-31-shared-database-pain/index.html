<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Sharing database between services will hurt you | rand(4) Thoughts</title>
<meta name=keywords content="architecture,microservices"><meta name=description content="Sharing database between application services is one of worst and most common anti-patterns you can still see around. It will hurt you in so many ways, yet it looks so nice and easy at the beginning.
Going fast like crazy In the beginning it looks like it makes you go fast. You can get all data in application by just querying same database. Every modification you do is immediately visible in other services."><meta name=author content><link rel=canonical href=https://marekpiechut.github.io/post/2016-07-31-shared-database-pain/><link crossorigin=anonymous href=/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as=style><link rel=icon href=https://marekpiechut.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://marekpiechut.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://marekpiechut.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://marekpiechut.github.io/apple-touch-icon.png><link rel=mask-icon href=https://marekpiechut.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://marekpiechut.github.io/post/2016-07-31-shared-database-pain/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script defer data-domain=marekpiechut.github.io src=https://insights.dayone.pl/js/script.js></script><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=Inter:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel=stylesheet><style>body{font-family:inter,sans-serif;font-optical-sizing:auto;font-size:16px;font-style:normal;letter-spacing:-.3px;--theme:#f4f4f4}h1,h2,h3,h4,h5,h6,.entry-link,.logo{font-family:montserrat,sans-serif;font-optical-sizing:auto;font-style:normal}</style><meta property="og:title" content="Sharing database between services will hurt you"><meta property="og:description" content="Sharing database between application services is one of worst and most common anti-patterns you can still see around. It will hurt you in so many ways, yet it looks so nice and easy at the beginning.
Going fast like crazy In the beginning it looks like it makes you go fast. You can get all data in application by just querying same database. Every modification you do is immediately visible in other services."><meta property="og:type" content="article"><meta property="og:url" content="https://marekpiechut.github.io/post/2016-07-31-shared-database-pain/"><meta property="og:image" content="https://marekpiechut.github.io/images/cover.jpg"><meta property="article:section" content="post"><meta property="article:published_time" content="2016-07-31T23:33:41+00:00"><meta property="article:modified_time" content="2016-07-31T23:33:41+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://marekpiechut.github.io/images/cover.jpg"><meta name=twitter:title content="Sharing database between services will hurt you"><meta name=twitter:description content="Sharing database between application services is one of worst and most common anti-patterns you can still see around. It will hurt you in so many ways, yet it looks so nice and easy at the beginning.
Going fast like crazy In the beginning it looks like it makes you go fast. You can get all data in application by just querying same database. Every modification you do is immediately visible in other services."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://marekpiechut.github.io/post/"},{"@type":"ListItem","position":2,"name":"Sharing database between services will hurt you","item":"https://marekpiechut.github.io/post/2016-07-31-shared-database-pain/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Sharing database between services will hurt you","name":"Sharing database between services will hurt you","description":"Sharing database between application services is one of worst and most common anti-patterns you can still see around. It will hurt you in so many ways, yet it looks so nice and easy at the beginning.\nGoing fast like crazy In the beginning it looks like it makes you go fast. You can get all data in application by just querying same database. Every modification you do is immediately visible in other services.","keywords":["architecture","microservices"],"articleBody":"Sharing database between application services is one of worst and most common anti-patterns you can still see around. It will hurt you in so many ways, yet it looks so nice and easy at the beginning.\nGoing fast like crazy In the beginning it looks like it makes you go fast. You can get all data in application by just querying same database. Every modification you do is immediately visible in other services. You get atomicity with database transactions. No need to really handle things like network failures, endpoint unavailability, timeouts, firewalls etc. You just build a nice old monolith, only deployed on many machines. Development is going fast and easy. Your developers throw new features like machine gun, but then…\nYou release …and after release, like after every release, some thing didn’t work out as well as you expected. It’s nothing big, just some minor things here and there, so you start fixing it.\nYou need to add new column to database. Simple stuff. DB migrations are ready and tested. Software is updated. Now time for deployment. You need to stop all services… Wait! What? All? Yes, all, you need to run DB migrations and you don’t want to run them live.\nAnd so you have lost one of advantages of dividing your application into many independent services. You can’t update them separately. Every database change will now require shutdown of all services. Users of your app and APIs will have to handle it. You’ll need to notify them upfront of any update and schedule them taking their’s schedule into consideration. Of course you would also need to do it when stopping single service, but net effect is much smaller. It’s not that bad though, you leave it as is and live on. Then you need to do some…\nIncompatible changes to your database schema Changes that will require update of database queries. Maybe it’s a change required by performance degradation after database got some real data, maybe new requirements in one of services or you simply found a way to do something better.\nAgain, at first, everything looks easy. You update software. Database schema evolution scripts are ready. You’re a professional, so everything is well tested and ready to be deployed. Operations do the update and… some other service starts failing. It’s not totally dead, just one of the endpoints fail. Of course you think its related to the last update. Last change is always first suspect. But first you need to get system up and running again.\nMaybe you can do a quick revert of previous update. But it’s not always easy. Sometimes reverting database migration is very hard and takes a lot of time. Hopefully you have prepared revert scripts before going with the update. If not, then this is probably moment when you learn that they are needed. Learn the hard way…\nSometimes update to queries in second service is straightforward and you can do it in few minutes, but when you add whole release cycle it might take few days. Few days of unplanned downtime is quite a lot. I wouldn’t count on high bonuses afterwards.\nAfter getting things back online you start to investigate. Things might be much easier if your services communicated via some network API. You could check logs or network traffic on updated service and see which client failed, maybe even get some error codes. Now you need to slowly check all changes that went into release (db/query updates might be only one thing on huge list of change log items).\nAfter some time one of team members recalls, that some other service also uses same database table you have changed and might be affected. You find guilty service, fix code and prepare release.\nEverything runs smoothly afterwards, but your manager expects you to create some mitigation plan to make such incidents less probable in the future. What can you do? You make sure, that in the future you release, test and install all services at once. Now release process is also huge and painful.\nAnd these other minor things Remember that every update to you database causes downtime of all of your services. Depending on how you count your SLAs, it might cost you much. Every unplanned downtime or performance degradation of database system will make all your services unavailable. Maintenance tasks you periodically run on database system, software and hardware updates, security patches, etc. All these will have to be done at the same time for all services.\nI’ts also worth noticing, that probably every service database usage is somewhat different. Some of them mostly read, some write. Some use huge reporting queries running for very long time, some do simple CRUD operations based on IDs. There’s no way you’ll be able to optimize schema and indexes for all of them at the same time. Probably you’ll end with a compromise that’s equally bad for all usages. Good luck with query performance investigation. It will be hard.\nGoing back to software updates, they not always help with performance. Sometimes after updating database you see huge drop in response times due to slow queries. Usually these can be fixed with small changes in queries or messing with indexes, but do you want to do them all at once? Wouldn’t it be easier to do it one service after another?\nFinally you might get an idea, that maybe some other type of database might be more accurate for particular service. How are you going to do it if it shares database with some other service?\nAll this looks bad, but you might have got…\nEven worse idea To share not only your database, but also entity classes as a common dependency. If shared database cause pain, this is an inner ring of hell.\nConsider a case, when you update entity API because it makes using it easier in one of services. Of course you version your software and all other services can simply continue using old version. No need to update anything now. But then you need to also do some changes in the very same entity class for second service. How can you do it without first applying changes made for first in second code? There’s no way you can isolate these changes. Only way is to fork entity project and keep two separate branches of code, but then you end up with separate entity dependencies.\nAgain, no way you can make API nice and cohesive for both services. You end up with bag of classes with unused APIs in both projects and no easy way to update them separately.\nWhat you’ll probably start doing in the future is keeping entity dependency at the same version for all services, so you’re sure everything is consistent. You’ll start to introduce changes just to conform to new API of entities, without any functional change. It also means you do releases, that do not change anything, just to make sure that entities are in the same versions in all running services.\nOf course you also end up using same technologies just to reuse entities, even if it does not make any sense.\nDatabase is an integral part of service Remember, database is the most intimate part of your service. It’s the part you need to keep most secured and do not allow anybody in. Even these corporate reporting tools. They also should go trough API of your services or have separate database that is filled by your application. It’s always better to add some APIs or even whole service to support what outside world needs, or you’ll end with sealed schema that’s unchangeable for any reason.\nYour services should have well defined APIs you wish to support and are going to keep compatible as long as it makes sense. You never know. Maybe you end up changing your database to bunch of CSV files in the end if it fits your needs better. For sure you don’t want to search for everybody using your database before you can do any update to schema.\n","wordCount":"1341","inLanguage":"en","image":"https://marekpiechut.github.io/images/cover.jpg","datePublished":"2016-07-31T23:33:41Z","dateModified":"2016-07-31T23:33:41Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://marekpiechut.github.io/post/2016-07-31-shared-database-pain/"},"publisher":{"@type":"Organization","name":"rand(4) Thoughts","logo":{"@type":"ImageObject","url":"https://marekpiechut.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://marekpiechut.github.io/ accesskey=h title="rand(4) Thoughts (Alt + H)">rand(4) Thoughts</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://marekpiechut.github.io/ title=Home><span>Home</span></a></li><li><a href=https://marekpiechut.github.io/index.xml title=RSS><span>RSS</span></a></li><li><a href=https://marekpiechut.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://marekpiechut.github.io/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Sharing database between services will hurt you</h1><div class=post-meta><span title='2016-07-31 23:33:41 +0000 UTC'>July 31, 2016</span></div></header><figure class=entry-cover><img loading=eager srcset="https://marekpiechut.github.io/post/2016-07-31-shared-database-pain/images/cover_hu5459c0360c2b0cb7a147d2df0eb350ca_2088821_360x0_resize_q75_box.jpg 360w ,https://marekpiechut.github.io/post/2016-07-31-shared-database-pain/images/cover_hu5459c0360c2b0cb7a147d2df0eb350ca_2088821_480x0_resize_q75_box.jpg 480w ,https://marekpiechut.github.io/post/2016-07-31-shared-database-pain/images/cover_hu5459c0360c2b0cb7a147d2df0eb350ca_2088821_720x0_resize_q75_box.jpg 720w ,https://marekpiechut.github.io/post/2016-07-31-shared-database-pain/images/cover_hu5459c0360c2b0cb7a147d2df0eb350ca_2088821_1080x0_resize_q75_box.jpg 1080w ,https://marekpiechut.github.io/post/2016-07-31-shared-database-pain/images/cover_hu5459c0360c2b0cb7a147d2df0eb350ca_2088821_1500x0_resize_q75_box.jpg 1500w ,https://marekpiechut.github.io/post/2016-07-31-shared-database-pain/images/cover.jpg 3859w" sizes="(min-width: 768px) 720px, 100vw" src=https://marekpiechut.github.io/post/2016-07-31-shared-database-pain/images/cover.jpg alt width=3859 height=2679></figure><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#going-fast-like-crazy aria-label="Going fast like crazy">Going fast like crazy</a></li><li><a href=#you-release aria-label="You release">You release</a></li><li><a href=#incompatible-changes-to-your-database-schema aria-label="Incompatible changes to your database schema">Incompatible changes to your database schema</a></li><li><a href=#and-these-other-minor-things aria-label="And these other minor things">And these other minor things</a></li><li><a href=#even-worse-idea aria-label="Even worse idea">Even worse idea</a></li><li><a href=#database-is-an-integral-part-of-service aria-label="Database is an integral part of service">Database is an integral part of service</a></li></ul></div></details></div><div class=post-content><p>Sharing database between application services is one of worst and most common anti-patterns you can still see around.
It will hurt you in so many ways, yet it looks so nice and easy at the beginning.</p><h2 id=going-fast-like-crazy>Going fast like crazy<a hidden class=anchor aria-hidden=true href=#going-fast-like-crazy>#</a></h2><p>In the beginning it looks like it makes you go fast. You can get all data in application by just querying same database. Every modification you do is immediately visible in other services. You get atomicity with database transactions. No need to really handle things like network failures, endpoint unavailability, timeouts, firewalls etc. You just build a nice old monolith, only deployed on many machines. Development is going fast and easy. Your developers throw new features like machine gun, but then&mldr;</p><h2 id=you-release>You release<a hidden class=anchor aria-hidden=true href=#you-release>#</a></h2><p>&mldr;and after release, like after every release, some thing didn&rsquo;t work out as well as you expected. It&rsquo;s nothing big, just some minor things here and there, so you start fixing it.</p><p>You need to add new column to database. Simple stuff. DB migrations are ready and tested. Software is updated. Now time for deployment. You need to stop all services&mldr; Wait! What? All? Yes, all, you need to run DB migrations and you don&rsquo;t want to run them live.</p><p>And so you have lost one of advantages of dividing your application into many independent services. You can&rsquo;t update them separately. Every database change will now require shutdown of all services. Users of your app and APIs will have to handle it. You&rsquo;ll need to notify them upfront of any update and schedule them taking their&rsquo;s schedule into consideration. Of course you would also need to do it when stopping single service, but net effect is much smaller. It&rsquo;s not that bad though, you leave it as is and live on. Then you need to do some&mldr;</p><h2 id=incompatible-changes-to-your-database-schema>Incompatible changes to your database schema<a hidden class=anchor aria-hidden=true href=#incompatible-changes-to-your-database-schema>#</a></h2><p>Changes that will require update of database queries. Maybe it&rsquo;s a change required by performance degradation after database got some real data, maybe new requirements in one of services or you simply found a way to do something better.</p><p>Again, at first, everything looks easy. You update software. Database schema evolution scripts are ready. You&rsquo;re a professional, so everything is well tested and ready to be deployed. Operations do the update and&mldr; some other service starts failing. It&rsquo;s not totally dead, just one of the endpoints fail.
Of course you think its related to the last update. Last change is always first suspect. But first you need to get system up and running again.</p><p>Maybe you can do a quick revert of previous update. But it&rsquo;s not always easy. Sometimes reverting database migration is very hard and takes a lot of time. Hopefully you have prepared revert scripts before going with the update. If not, then this is probably moment when you learn that they are needed. Learn the hard way&mldr;</p><p>Sometimes update to queries in second service is straightforward and you can do it in few minutes, but when you add whole release cycle it might take few days. Few days of unplanned downtime is quite a lot. I wouldn&rsquo;t count on high bonuses afterwards.</p><p>After getting things back online you start to investigate. Things might be much easier if your services communicated via some network API. You could check logs or network traffic on updated service and see which client failed, maybe even get some error codes. Now you need to slowly check all changes that went into release (db/query updates might be only one thing on huge list of change log items).</p><p>After some time one of team members recalls, that some other service also uses same database table you have changed and might be affected. You find guilty service, fix code and prepare release.</p><p>Everything runs smoothly afterwards, but your manager expects you to create some mitigation plan to make such incidents less probable in the future. What can you do? You make sure, that in the future you release, test and install all services at once. Now release process is also huge and painful.</p><h2 id=and-these-other-minor-things>And these other minor things<a hidden class=anchor aria-hidden=true href=#and-these-other-minor-things>#</a></h2><p>Remember that every update to you database causes downtime of all of your services. Depending on how you count your SLAs, it might cost you much. Every unplanned downtime or performance degradation of database system will make all your services unavailable.
Maintenance tasks you periodically run on database system, software and hardware updates, security patches, etc. All these will have to be done at the same time for all services.</p><p>I&rsquo;ts also worth noticing, that probably every service database usage is somewhat different. Some of them mostly read, some write. Some use huge reporting queries running for very long time, some do simple CRUD operations based on IDs. There&rsquo;s no way you&rsquo;ll be able to optimize schema and indexes for all of them at the same time. Probably you&rsquo;ll end with a compromise that&rsquo;s equally bad for all usages. Good luck with query performance investigation. It will be hard.</p><p>Going back to software updates, they not always help with performance. Sometimes after updating database you see huge drop in response times due to slow queries. Usually these can be fixed with small changes in queries or messing with indexes, but do you want to do them all at once? Wouldn&rsquo;t it be easier to do it one service after another?</p><p>Finally you might get an idea, that maybe some other type of database might be more accurate for particular service. How are you going to do it if it shares database with some other service?</p><p>All this looks bad, but you might have got&mldr;</p><h2 id=even-worse-idea>Even worse idea<a hidden class=anchor aria-hidden=true href=#even-worse-idea>#</a></h2><p>To share not only your database, but also entity classes as a common dependency. If shared database cause pain, this is an inner ring of hell.</p><p>Consider a case, when you update entity API because it makes using it easier in one of services. Of course you version your software and all other services can simply continue using old version. No need to update anything now. But then you need to also do some changes in the very same entity class for second service. How can you do it without first applying changes made for first in second code? There&rsquo;s no way you can isolate these changes. Only way is to fork entity project and keep two separate branches of code, but then you end up with separate entity dependencies.</p><p>Again, no way you can make API nice and cohesive for both services. You end up with bag of classes with unused APIs in both projects and no easy way to update them separately.</p><p>What you&rsquo;ll probably start doing in the future is keeping entity dependency at the same version for all services, so you&rsquo;re sure everything is consistent. You&rsquo;ll start to introduce changes just to conform to new API of entities, without any functional change. It also means you do releases, that do not change anything, just to make sure that entities are in the same versions in all running services.</p><p>Of course you also end up using same technologies just to reuse entities, even if it does not make any sense.</p><h2 id=database-is-an-integral-part-of-service>Database is an integral part of service<a hidden class=anchor aria-hidden=true href=#database-is-an-integral-part-of-service>#</a></h2><p>Remember, database is the most intimate part of your service. It&rsquo;s the part you need to keep most secured and do not allow anybody in. Even these corporate reporting tools. They also should go trough API of your services or have separate database that is filled by your application. It&rsquo;s always better to add some APIs or even whole service to support what outside world needs, or you&rsquo;ll end with sealed schema that&rsquo;s unchangeable for any reason.</p><p>Your services should have well defined APIs you wish to support and are going to keep compatible as long as it makes sense. You never know. Maybe you end up changing your database to bunch of CSV files in the end if it fits your needs better. For sure you don&rsquo;t want to search for everybody using your database before you can do any update to schema.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://marekpiechut.github.io/tags/architecture/>Architecture</a></li><li><a href=https://marekpiechut.github.io/tags/microservices/>Microservices</a></li></ul><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Sharing database between services will hurt you on x" href="https://x.com/intent/tweet/?text=Sharing%20database%20between%20services%20will%20hurt%20you&amp;url=https%3a%2f%2fmarekpiechut.github.io%2fpost%2f2016-07-31-shared-database-pain%2f&amp;hashtags=architecture%2cmicroservices"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Sharing database between services will hurt you on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fmarekpiechut.github.io%2fpost%2f2016-07-31-shared-database-pain%2f&amp;title=Sharing%20database%20between%20services%20will%20hurt%20you&amp;summary=Sharing%20database%20between%20services%20will%20hurt%20you&amp;source=https%3a%2f%2fmarekpiechut.github.io%2fpost%2f2016-07-31-shared-database-pain%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Sharing database between services will hurt you on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fmarekpiechut.github.io%2fpost%2f2016-07-31-shared-database-pain%2f&title=Sharing%20database%20between%20services%20will%20hurt%20you"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Sharing database between services will hurt you on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fmarekpiechut.github.io%2fpost%2f2016-07-31-shared-database-pain%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Sharing database between services will hurt you on whatsapp" href="https://api.whatsapp.com/send?text=Sharing%20database%20between%20services%20will%20hurt%20you%20-%20https%3a%2f%2fmarekpiechut.github.io%2fpost%2f2016-07-31-shared-database-pain%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Sharing database between services will hurt you on telegram" href="https://telegram.me/share/url?text=Sharing%20database%20between%20services%20will%20hurt%20you&amp;url=https%3a%2f%2fmarekpiechut.github.io%2fpost%2f2016-07-31-shared-database-pain%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Sharing database between services will hurt you on ycombinator" href="https://news.ycombinator.com/submitlink?t=Sharing%20database%20between%20services%20will%20hurt%20you&u=https%3a%2f%2fmarekpiechut.github.io%2fpost%2f2016-07-31-shared-database-pain%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>© 2024 - Marek Piechut</span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>